# 08 해시
## 08-1 해시의 개념
* 해시 함수를 사용해서 키를 변환한 값을 인덱스로 삼아 값을 저장
* 해시의 특징
  - 단방향
  - 찾고자 하는 값을 O(1)에서 바로 찾을 수 있음
* 해시 테이블의 각 데이터를 버킷(bucket)이라 부름
* 데이터를 탐색하는 횟수가 많을 경우 해시를 고려하면 좋음
## 08-2 해시 함수
* 파이썬에는 딕셔너리라는 자료형을 제공
  - 이 자료형은 해시와 거의 동일하게 동작하므로 해시를 쉽게 사용할 수 있음
* 충돌
  - 서로 다른 두 키에 대해 해싱 함수를 적용한 결과가 동일한 것을 의미
  - 아래 자주 사용하는 해시 함수절에서 해결방법 소개
* 자주 사용하는 해시 함수
  - 나눗셈법
    - 키를 소수로 나눈 나머지를 활용
    - `h(x) = x mod k`
    - x는 키, k는 소수
    - 나눗셈법의 해시 테이블 크기는 K
    - 매우 큰 소수를 구하는 효율적인 방법이 없음
  - 곱셈법
    - 소수를 활하지 않음
    - `h(x) = (((x * A) mod 1) * m)`
    - m은 최대 버킷의 개수
    - A는 황금비(1.618033..., 소수부의 일부만 사용)
      - 황금비는 전체와 긴부분의 비율이 긴부분과 짧은 부분의 비율과 같은 비율
  - 문자열 해싱
    - 문자열의 문자를 숫자로 변환하고 이 숫자들을 다항식의 값을 변환해서 해싱
    - `hash(s) = (s[0] + s[1]*p + s[2]*p^2 ... s[n-1]*p^(n-1)) mod m`
    - p는 31(메르센 소수, 2^N-1로 표시할 수 있는 숫자 중 소수인 수)
    - m은 해시 테이블 최대 크기
## 08-3 충돌 처리
* 체이닝으로 처리하기
  - 링크드리스트로 같은 해시값을 가지는 데이터를 연결
  - 해시 테이블 공간 활용성이 떨어짐
  - 검색 성능이 떨어짐
* 개방 주소법으로 처리하기
  - 빈 버킷을 찾아 충돌값을 삽입
  - 선형 탐사 방식
    - 빈 버킷을 찾을 때까지 일정한 간격으로 이동 
    - `h(k,i) = (h(k)+i) mod m`
    - 해시 충돌이 발생한 값끼리 모이는 영역이 생김(클러스터 형성)
    - 이런 군집이 생기면 해시값이 겹칠 활률이 더 올라감
* 이중 해싱 방식
  - 해시 함수를 2개 사용
  - `h(k, i) = (h1(k) + i*h2(k)) mod m`
  - 클러스터 형성을 최대한 피하기 위함
